# ============================================================
# SCRIBE MCP SERVER CONFIGURATION
# ============================================================
# A Kantra rule generation MCP server using SSE transport
# ============================================================

# SSE Server Configuration
quarkus.http.host=0.0.0.0
quarkus.http.port=8080
quarkus.banner.path=logo.txt

# CORS Configuration for browser access
quarkus.http.cors.origins=*
quarkus.http.cors.methods=GET,POST,OPTIONS
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with
quarkus.http.cors.exposed-headers=Content-Disposition
quarkus.http.cors.access-control-max-age=24H

# MCP SSE is enabled by default when using quarkus-mcp-server-sse
# Default endpoint: /mcp/sse

# Public endpoints (no authentication required for this service)
quarkus.http.auth.permission.public.paths=/*
quarkus.http.auth.permission.public.policy=permit

# ============================================================
# COMMAND CONFIGURATION
# ============================================================

# Enable all discovered commands by default
kantra.mcp.commands.enable-all-by-default=true

# Log available commands on startup
kantra.mcp.commands.log-on-startup=true

# Explicitly disabled commands (comma-separated)
# Example: kantra.mcp.commands.disabled=GET_HELP
# Leave unset to enable all commands

# ============================================================
# CONTAINER IMAGE CONFIGURATION (Jib)
# ============================================================

quarkus.container-image.build=false
quarkus.container-image.registry=quay.io
quarkus.container-image.group=sshaaf
quarkus.container-image.name=scribe
quarkus.container-image.tag=@git.commit.id.abbrev@
quarkus.container-image.additional-tags=latest

# Jib specific configuration
quarkus.jib.base-jvm-image=registry.access.redhat.com/ubi9/openjdk-21-runtime:1.20
quarkus.jib.platforms=linux/amd64,linux/arm64
quarkus.jib.ports=8080

# Container environment variables
quarkus.jib.environment-variables.QUARKUS_HTTP_PORT=8080

# ============================================================
# LOGGING CONFIGURATION
# ============================================================

quarkus.log.level=INFO
quarkus.log.category."dev.shaaf.kantra".level=DEBUG
