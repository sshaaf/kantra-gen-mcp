---
- ruleID: "add-microprofile-rest-client-annotation"
  message: |
    MicroProfile Rest Client enables type-safe REST API consumption for microservice communication.

    **Define the API Interface:**
    ```java
    import org.eclipse.microprofile.rest.client.inject.RegisterRestClient;
    import jakarta.ws.rs.*;

    @Path("/members")
    @RegisterRestClient(configKey = "member-api")
    public interface MemberApi {
        @POST
        @Consumes(MediaType.APPLICATION_JSON)
        @Produces(MediaType.APPLICATION_JSON)
        Member add(Member member);

        @GET
        @Path("/{id}")
        Member findById(@PathParam("id") String id);
    }
    ```

    **Inject and Use:**
    ```java
    import org.eclipse.microprofile.rest.client.inject.RestClient;

    @ApplicationScoped
    public class GroupService {
        @Inject
        @RestClient
        private MemberApi memberApi;

        public void addMember(Member member) {
            memberApi.add(member);
        }
    }
    ```

    **Configure in application.properties:**
    ```properties
    member-api/mp-rest/url=http://member-service:9081
    member-api/mp-rest/scope=jakarta.enterprise.context.RequestScoped
    ```

    **Key Benefits:**
    - Type-safe REST client
    - CDI injection support
    - Externalized configuration
  description: "Detects Java import: org.eclipse.microprofile.rest.client.inject.RestClient"
  category: "optional"
  effort: 2
  labels:
    - "konveyor.io/source=monolith"
    - "konveyor.io/target=microprofile"
  links:
    - title: "Monolith to Microservices Guide"
      url: "https://github.com/lasalazarr/guide-monolithic-to-microservices"
    - title: "MicroProfile Rest Client Spec"
      url: "https://microprofile.io/specifications/microprofile-rest-client/"
  tag: []
  customVariable: []
  when:
    java.referenced:
      pattern: "org.eclipse.microprofile.rest.client.inject.RestClient"
      location: "IMPORT"
