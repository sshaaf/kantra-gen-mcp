---
- ruleID: "ejb-startup-to-quarkus-startup"
  message: |
    EJB `@Startup` annotation should be replaced with Quarkus `@Startup` for eager bean initialization.

    **Before (Jakarta EE EJB):**
    ```java
    import jakarta.ejb.Singleton;
    import jakarta.ejb.Startup;
    import jakarta.annotation.PostConstruct;

    @Singleton
    @Startup
    public class AppInitializer {
        @PostConstruct
        public void init() {
            System.out.println("Application starting...");
        }
    }
    ```

    **After (Quarkus CDI):**
    ```java
    import jakarta.enterprise.context.ApplicationScoped;
    import io.quarkus.runtime.Startup;
    import jakarta.annotation.PostConstruct;

    @ApplicationScoped
    @Startup
    public class AppInitializer {
        @PostConstruct
        public void init() {
            System.out.println("Application starting...");
        }
    }
    ```

    **Key Changes:**
    - Replace `jakarta.ejb.Startup` with `io.quarkus.runtime.Startup`
    - The behavior is the same: bean is initialized at application startup
  description: "Detects Java annotation: jakarta.ejb.Startup"
  category: "mandatory"
  effort: 1
  labels:
    - "konveyor.io/source=jakarta-ee"
    - "konveyor.io/target=quarkus"
  links:
    - title: "EJB to Quarkus Migration Guide"
      url: "https://www.the-main-thread.com/p/from-heavyweight-to-hyperspeed-your"
    - title: "Quarkus Lifecycle Events"
      url: "https://quarkus.io/guides/lifecycle"
  tag: []
  customVariable: []
  when:
    java.referenced:
      pattern: "jakarta.ejb.Startup"
      location: "ANNOTATION"
